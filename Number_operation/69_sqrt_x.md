# 60.x的平方根

## case

给你一个非负整数 x ，计算并返回 x 的 算术平方根 。

由于返回类型是整数，结果只保留 整数部分 ，小数部分将被 舍去 。

注意：不允许使用任何内置指数函数和算符，例如 pow(x, 0.5) 或者 x ** 0.5 。

```python
示例 1：

输入：x = 4
输出：2
示例 2：

输入：x = 8
输出：2
解释：8 的算术平方根是 2.82842..., 由于返回类型是整数，小数部分将被舍去。
```

```python
case = [
  4,8,3,0,10,9,81
]
```

## 思路

官方有几种解法，这里只记录一种二分法，目的是找到从0到n中间的某个数字k，时k^2<=n，而且k尽可能的大

```python
def sqr(x):
    l,r,ans = 0,x,-1
    while l <= r:
        mid = (l+r)//2
        if mid*mid <= x:
            ans = mid
            l = mid + 1
        else:
            r = mid - 1

    return ans

for i in case:
    print(i)
    print(sqr(i))
```

## 总结

这道题的二分解法，和普通的二分查找还是有区别的，首先，它的返回值隐含在mid*mid<=x这一个条件里，这里需要注意边界的处理，也就是mid恰好是x的平方根的情况

其次，当遍历结束，也就是左右边界相遇时，当前的ans就是最大的那个平方根整数，为什么是最大，因为这道题隐含了一个特质，基于这个特质才能说最大平方根: 要打破本题思路，只有2k > k*k时才可以，而这时k<2,也就是k=0或k=1,这两个情况都可以被本题覆盖

所以，本题中mid的移动轨迹，其实一定是从右一直向左的